{"version":3,"sources":["api/index.js","celebrities.js","Celebrity.jsx","Users.jsx","Complete.jsx","Layout.jsx","Login.jsx","index.js"],"names":["baseUrl","getPlayers","a","axios","get","addPlayer","data","post","updatePlayer","id","put","deletePlayer","delete","CelebritiesList","url","names","answer","Celebrity","goNext","celebrityInfo","useState","setAnswer","choices","useMemo","map","name","type","value","onChange","e","target","handleSubmit","useCallback","className","alt","src","onClick","Users","currentUser","leader","JSON","parse","sessionStorage","getItem","points","maxpoints","ShowAll","users","setUsers","useEffect","then","res","sort","b","list","_id","Complete","window","location","reload","Layout","setCurrentUser","celebrities","setCelebrities","valid","slice","length","Math","random","setItem","stringify","ReactDOM","render","document","getElementById","Login","username","setUsername","n","handleLogin","preventDefault","test","alert","find","user","onSubmit","htmlFor","placeholder"],"mappings":"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","file":"static/js/main.5c3694ea.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = 'http://localhost:5000'\n\nconst getPlayers = async () => axios.get(`${baseUrl}/players`)\n\nconst addPlayer = async (data) => axios.post(`${baseUrl}/players`, data)\n\nconst getPlayer = async (id) => axios.get(`${baseUrl}/players/${id}`)\n\nconst updatePlayer = async (id, data) =>\n  axios.put(`${baseUrl}/players/${id}`, data)\n\nconst deletePlayer = async (id) => axios.delete(`${baseUrl}/players/${id}`)\n\nconst getLeaders = (n) => axios.get(`${baseUrl}/leaders/${n}`)\n\nexport {\n  getPlayers,\n  addPlayer,\n  getPlayer,\n  updatePlayer,\n  deletePlayer,\n  getLeaders,\n}\n","const CelebritiesList = [\n  {\n    url: 'https://gss0.baidu.com/70cFfyinKgQFm2e88IuM_a/baike/pic/item/08f790529822720ee98e856473cb0a46f31fabe8.jpg',\n    names: [\n      'Thor Odinson',\n      'Chris Hemsworth',\n      'Luke Hemsworth',\n      'Liam Hemsworth',\n    ],\n    answer: 'Chris Hemsworth',\n  },\n  {\n    url: 'https://img2.baidu.com/it/u=4077473494,910684964&fm=26&fmt=auto',\n    names: [\n      'Robert Downey Jr.',\n      'Jeff Bridges',\n      'Tony Stark',\n      'Robert John Downey',\n    ],\n    answer: 'Robert Downey Jr.',\n  },\n  {\n    url: 'https://img1.baidu.com/it/u=1030431412,1150813741&fm=26&fmt=auto',\n    names: ['Kate Bishop', 'Jeremy Renner', 'Trick Shot', 'Clint Barton'],\n    answer: 'Jeremy Renner',\n  },\n  {\n    url: 'https://img1.baidu.com/it/u=2186459156,231507476&fm=26&fmt=auto',\n    names: [\n      'Mark Alan Ruffalo',\n      'Eric Bana',\n      'Tony Stark',\n      'Robert Bruce Banner',\n    ],\n    answer: 'Mark Alan Ruffalo',\n  },\n  {\n    url: 'https://img2.baidu.com/it/u=744724782,205696845&fm=26&fmt=auto',\n    names: [\n      'Christian Bale',\n      'Josh James Brolin',\n      'Aaron Eckhart',\n      'Robert John Downey',\n    ],\n    answer: 'Josh James Brolin',\n  },\n  {\n    url: 'https://img1.baidu.com/it/u=2110223230,3202604494&fm=26&fmt=auto',\n    names: [\n      'Elizabeth Olsen',\n      'Wanda Django Maximoff',\n      'Mary-Kate Olsen',\n      'Ashley Olsen',\n    ],\n    answer: 'Elizabeth Olsen',\n  },\n  {\n    url: 'https://img1.baidu.com/it/u=1793835732,449516069&fm=26&fmt=auto',\n    names: [\n      'Pietro Django Maximoff',\n      'Jeff Bridges',\n      'Aaron Taylor-Johnson',\n      'Ezra Miller',\n    ],\n    answer: 'Aaron Taylor-Johnson',\n  },\n  {\n    url: 'https://img2.baidu.com/it/u=3586097865,2980519914&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=401',\n    names: ['Tom Hardy', 'Andrew Garfield', 'Tobey Maguire', 'Tom Holland'],\n    answer: 'Tom Holland',\n  },\n  {\n    url: 'https://img0.baidu.com/it/u=2022159248,3445557809&fm=26&fmt=auto',\n    names: ['Steve Rogers', 'Chris Evans', 'Anthony Mackie', 'Henry Cavill'],\n    answer: 'Chris Evans',\n  },\n  {\n    url: 'https://ss0.baidu.com/94o3dSag_xI4khGko9WTAnF6hhy/baike/pic/item/b7003af33a87e9506dc6391317385343faf2b4f8.jpg',\n    names: ['Odin Borson', 'Loki Laufeyson', 'Tom Hiddleston', 'Heath Ledger'],\n    answer: 'Tom Hiddleston',\n  },\n]\n\nexport default CelebritiesList\n","import { useCallback, useMemo, useState } from 'react'\n\nconst Celebrity = ({ goNext, celebrityInfo }) => {\n  const [answer, setAnswer] = useState('')\n\n  const choices = useMemo(() => {\n    return celebrityInfo.names.map((name) => (\n      <li key={name}>\n        <label>\n          <input\n            name='celebrity'\n            type='radio'\n            value={name}\n            onChange={(e) => setAnswer(e.target.value)}\n          />\n          {name}\n        </label>\n      </li>\n    ))\n  }, [celebrityInfo])\n\n  const handleSubmit = useCallback(() => {\n    if (answer === celebrityInfo.answer) {\n      goNext(true)\n    } else {\n      goNext(false)\n    }\n  }, [answer, celebrityInfo, goNext])\n\n  return (\n    <div className='celebrity-container'>\n      <div className='celebrity-img'>\n        <img alt={celebrityInfo.answer} src={celebrityInfo.url} />\n      </div>\n      <div className='celebrity-selector'>\n        <ul>{choices}</ul>\n        <button onClick={handleSubmit}>submit</button>\n      </div>\n    </div>\n  )\n}\n\nexport default Celebrity\n","const Users = ({ currentUser }) => {\n  const leader = JSON.parse(sessionStorage.getItem('leader'))\n  return (\n    <div className='users-container'>\n      <div className='current-user'>\n        Nickname:\n        {currentUser.name}\n      </div>\n      <div>\n        Your Current Score:\n        {currentUser.points}\n      </div>\n      <div className='current-user-best'>\n        Your Best Score:\n        {currentUser.maxpoints}\n      </div>\n      <div className='overall-best'>\n        The Best Score Overall:\n        {leader.maxpoints}\n      </div>\n    </div>\n  )\n}\n\nexport default Users\n","import React, { useEffect, useState } from 'react'\nimport { deletePlayer, getPlayers } from './api'\nimport Users from './Users'\n\nconst ShowAll = () => {\n  const [users, setUsers] = useState([])\n\n  useEffect(() => {\n    getPlayers().then((res) => {\n      const users = res.data\n      users.sort((a, b) => b.maxpoints - a.maxpoints)\n      setUsers(res.data)\n    })\n  }, [])\n\n  const list = users.map(({ _id, name, maxpoints }) => (\n    <li key={_id}>\n      {name}: {maxpoints}\n    </li>\n  ))\n\n  return <ul>{list}</ul>\n}\n\nconst Complete = () => {\n  const currentUser = JSON.parse(sessionStorage.getItem('currentUser'))\n  return (\n    <div>\n      <div className='users-container'>\n        <Users currentUser={currentUser} />\n      </div>\n      <button\n        className='try-again-btn'\n        onClick={() => window.location.reload()}>\n        Try again\n      </button>\n      <button\n        className='delete-btn'\n        onClick={async () => {\n          await deletePlayer(currentUser._id)\n          window.location.reload()\n        }}>\n        Delete My Info\n      </button>\n      <div className='users-list'>\n        <div>Users List</div>\n        <ShowAll />\n      </div>\n    </div>\n  )\n}\n\nexport default Complete\n","import React, { useCallback, useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport { updatePlayer } from './api'\nimport CelebritiesList from './celebrities'\nimport Celebrity from './Celebrity'\nimport Complete from './Complete'\nimport Users from './Users.jsx'\n\nconst Layout = () => {\n  const [currentUser, setCurrentUser] = useState({\n    ...JSON.parse(sessionStorage.getItem('currentUser')),\n    points: 0,\n  })\n\n  const [celebrities, setCelebrities] = useState(CelebritiesList)\n\n  const goNext = useCallback(\n    async (valid) => {\n      const list = celebrities.slice(1)\n      if (list.length > 0) {\n        list.sort(() => Math.random() - 0.5)\n        setCelebrities(list)\n      }\n\n      if (valid) {\n        // correct answer\n        setCurrentUser({ ...currentUser, points: currentUser.points + 1 })\n      }\n\n      if (list.length === 0) {\n        // finish\n        let { _id: id, maxpoints, points } = currentUser\n\n        if (valid) {\n          points += 1\n        }\n\n        maxpoints = points > maxpoints ? points : maxpoints\n\n        await updatePlayer(id, {\n          maxpoints,\n          points,\n        })\n\n        sessionStorage.setItem(\n          'currentUser',\n          JSON.stringify({ ...currentUser, points, maxpoints })\n        )\n\n        ReactDOM.render(<Complete />, document.getElementById('root'))\n      }\n    },\n    [celebrities, currentUser]\n  )\n\n  return (\n    <div className='page-container'>\n      <div className='header'>\n        <Users currentUser={currentUser} />\n      </div>\n      <div className='main'>\n        <Celebrity celebrityInfo={celebrities[0]} goNext={goNext} />\n      </div>\n    </div>\n  )\n}\n\nexport default Layout\n","import { useCallback, useEffect, useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport { addPlayer, getLeaders, getPlayers } from './api'\nimport Layout from './Layout'\n\nconst Login = () => {\n  const [username, setUsername] = useState('')\n  const [users, setUsers] = useState([])\n\n  useEffect(() => {\n    // get the top one\n    getLeaders(1).then((res) => {\n      const leader = res.data[0] || { maxpoints: 0 }\n      sessionStorage.setItem('leader', JSON.stringify(leader))\n    })\n\n    // get all players\n    getPlayers().then((res) => {\n      setUsers(res.data)\n    })\n  }, [])\n\n  useEffect(() => {\n    // store users\n    sessionStorage.setItem('users', JSON.stringify(users))\n  }, [users])\n\n  const handleLogin = useCallback(\n    async (e) => {\n      // prevent browser reloading\n      e.preventDefault()\n\n      const name = username\n      const pattern = /^(?=.*?[a-z)(?=.*>[A-Z])(?=.*?[0-9])[a-zA_Z0-9]{6,10}$/\n\n      if (!pattern.test(name)) {\n        alert(\n          'The Nickname must contains number and letter, the length must over or equal 6 and less than 10'\n        )\n        return\n      }\n\n      let currentUser\n\n      if (users.length > 0) {\n        currentUser = users.find((user) => user.name === name)\n      }\n\n      if (!currentUser) {\n        currentUser = (await addPlayer({ name, points: 0, maxpoints: 0 })).data\n        setUsers([...users, currentUser])\n      }\n\n      sessionStorage.setItem('currentUser', JSON.stringify(currentUser))\n      ReactDOM.render(<Layout />, document.getElementById('root'))\n    },\n    [username, users]\n  )\n\n  return (\n    <form onSubmit={handleLogin}>\n      <label className='nickname-label' htmlFor='username'>\n        Nickname:\n        <input\n          id='username'\n          value={username}\n          className='user-name-input'\n          placeholder='please enter your nickname'\n          onChange={(e) => setUsername(e.target.value)}\n        />\n      </label>\n      <input type='submit' value='submit' className='submit-btn' />\n    </form>\n  )\n}\n\nexport default Login\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport Login from './Login'\n\nReactDOM.render(<Login />, document.getElementById('root'))\n"],"sourceRoot":""}