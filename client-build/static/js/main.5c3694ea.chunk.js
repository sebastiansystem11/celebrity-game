(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(8),s=n.n(a),c=(n(27),n(2)),i=n.n(c),o=n(22),u=n(4),l=n(5),m=n(6),b=n.n(m),f="http://localhost:5000",j=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.a.get("".concat(f,"/players")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.a.post("".concat(f,"/players"),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.a.put("".concat(f,"/players/").concat(t),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.a.delete("".concat(f,"/players/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=n(7),x=[{url:"https://gss0.baidu.com/70cFfyinKgQFm2e88IuM_a/baike/pic/item/08f790529822720ee98e856473cb0a46f31fabe8.jpg",names:["Thor Odinson","Chris Hemsworth","Luke Hemsworth","Liam Hemsworth"],answer:"Chris Hemsworth"},{url:"https://img2.baidu.com/it/u=4077473494,910684964&fm=26&fmt=auto",names:["Robert Downey Jr.","Jeff Bridges","Tony Stark","Robert John Downey"],answer:"Robert Downey Jr."},{url:"https://img1.baidu.com/it/u=1030431412,1150813741&fm=26&fmt=auto",names:["Kate Bishop","Jeremy Renner","Trick Shot","Clint Barton"],answer:"Jeremy Renner"},{url:"https://img1.baidu.com/it/u=2186459156,231507476&fm=26&fmt=auto",names:["Mark Alan Ruffalo","Eric Bana","Tony Stark","Robert Bruce Banner"],answer:"Mark Alan Ruffalo"},{url:"https://img2.baidu.com/it/u=744724782,205696845&fm=26&fmt=auto",names:["Christian Bale","Josh James Brolin","Aaron Eckhart","Robert John Downey"],answer:"Josh James Brolin"},{url:"https://img1.baidu.com/it/u=2110223230,3202604494&fm=26&fmt=auto",names:["Elizabeth Olsen","Wanda Django Maximoff","Mary-Kate Olsen","Ashley Olsen"],answer:"Elizabeth Olsen"},{url:"https://img1.baidu.com/it/u=1793835732,449516069&fm=26&fmt=auto",names:["Pietro Django Maximoff","Jeff Bridges","Aaron Taylor-Johnson","Ezra Miller"],answer:"Aaron Taylor-Johnson"},{url:"https://img2.baidu.com/it/u=3586097865,2980519914&fm=253&fmt=auto&app=138&f=JPEG?w=640&h=401",names:["Tom Hardy","Andrew Garfield","Tobey Maguire","Tom Holland"],answer:"Tom Holland"},{url:"https://img0.baidu.com/it/u=2022159248,3445557809&fm=26&fmt=auto",names:["Steve Rogers","Chris Evans","Anthony Mackie","Henry Cavill"],answer:"Chris Evans"},{url:"https://ss0.baidu.com/94o3dSag_xI4khGko9WTAnF6hhy/baike/pic/item/b7003af33a87e9506dc6391317385343faf2b4f8.jpg",names:["Odin Borson","Loki Laufeyson","Tom Hiddleston","Heath Ledger"],answer:"Tom Hiddleston"}],v=n(0),g=function(e){var t=e.goNext,n=e.celebrityInfo,a=Object(r.useState)(""),s=Object(l.a)(a,2),c=s[0],i=s[1],o=Object(r.useMemo)((function(){return n.names.map((function(e){return Object(v.jsx)("li",{children:Object(v.jsxs)("label",{children:[Object(v.jsx)("input",{name:"celebrity",type:"radio",value:e,onChange:function(e){return i(e.target.value)}}),e]})},e)}))}),[n]),u=Object(r.useCallback)((function(){c===n.answer?t(!0):t(!1)}),[c,n,t]);return Object(v.jsxs)("div",{className:"celebrity-container",children:[Object(v.jsx)("div",{className:"celebrity-img",children:Object(v.jsx)("img",{alt:n.answer,src:n.url})}),Object(v.jsxs)("div",{className:"celebrity-selector",children:[Object(v.jsx)("ul",{children:o}),Object(v.jsx)("button",{onClick:u,children:"submit"})]})]})},y=function(e){var t=e.currentUser,n=JSON.parse(sessionStorage.getItem("leader"));return Object(v.jsxs)("div",{className:"users-container",children:[Object(v.jsxs)("div",{className:"current-user",children:["Nickname:",t.name]}),Object(v.jsxs)("div",{children:["Your Current Score:",t.points]}),Object(v.jsxs)("div",{className:"current-user-best",children:["Your Best Score:",t.maxpoints]}),Object(v.jsxs)("div",{className:"overall-best",children:["The Best Score Overall:",n.maxpoints]})]})},w=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1];Object(r.useEffect)((function(){j().then((function(e){e.data.sort((function(e,t){return t.maxpoints-e.maxpoints})),a(e.data)}))}),[]);var s=n.map((function(e){var t=e._id,n=e.name,r=e.maxpoints;return Object(v.jsxs)("li",{children:[n,": ",r]},t)}));return Object(v.jsx)("ul",{children:s})},k=function(){var e=JSON.parse(sessionStorage.getItem("currentUser"));return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"users-container",children:Object(v.jsx)(y,{currentUser:e})}),Object(v.jsx)("button",{className:"try-again-btn",onClick:function(){return window.location.reload()},children:"Try again"}),Object(v.jsx)("button",{className:"delete-btn",onClick:Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e._id);case 2:window.location.reload();case 3:case"end":return t.stop()}}),t)}))),children:"Delete My Info"}),Object(v.jsxs)("div",{className:"users-list",children:[Object(v.jsx)("div",{children:"Users List"}),Object(v.jsx)(w,{})]})]})},N=function(){var e=Object(r.useState)(Object(O.a)(Object(O.a)({},JSON.parse(sessionStorage.getItem("currentUser"))),{},{points:0})),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(x),o=Object(l.a)(c,2),m=o[0],b=o[1],f=Object(r.useCallback)(function(){var e=Object(u.a)(i.a.mark((function e(t){var r,c,o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=m.slice(1)).length>0&&(r.sort((function(){return Math.random()-.5})),b(r)),t&&a(Object(O.a)(Object(O.a)({},n),{},{points:n.points+1})),0!==r.length){e.next=11;break}return c=n._id,o=n.maxpoints,u=n.points,t&&(u+=1),o=u>o?u:o,e.next=9,p(c,{maxpoints:o,points:u});case 9:sessionStorage.setItem("currentUser",JSON.stringify(Object(O.a)(Object(O.a)({},n),{},{points:u,maxpoints:o}))),s.a.render(Object(v.jsx)(k,{}),document.getElementById("root"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[m,n]);return Object(v.jsxs)("div",{className:"page-container",children:[Object(v.jsx)("div",{className:"header",children:Object(v.jsx)(y,{currentUser:n})}),Object(v.jsx)("div",{className:"main",children:Object(v.jsx)(g,{celebrityInfo:m[0],goNext:f})})]})},S=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),m=Object(l.a)(c,2),p=m[0],h=m[1];Object(r.useEffect)((function(){var e;(e=1,b.a.get("".concat(f,"/leaders/").concat(e))).then((function(e){var t=e.data[0]||{maxpoints:0};sessionStorage.setItem("leader",JSON.stringify(t))})),j().then((function(e){h(e.data)}))}),[]),Object(r.useEffect)((function(){sessionStorage.setItem("users",JSON.stringify(p))}),[p]);var O=Object(r.useCallback)(function(){var e=Object(u.a)(i.a.mark((function e(t){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),/^(?=.*?[a-z)(?=.*>[A-Z])(?=.*?[0-9])[a-zA_Z0-9]{6,10}$/.test(r=n)){e.next=6;break}return alert("The Nickname must contains number and letter, the length must over or equal 6 and less than 10"),e.abrupt("return");case 6:if(p.length>0&&(a=p.find((function(e){return e.name===r}))),a){e.next=12;break}return e.next=10,d({name:r,points:0,maxpoints:0});case 10:a=e.sent.data,h([].concat(Object(o.a)(p),[a]));case 12:sessionStorage.setItem("currentUser",JSON.stringify(a)),s.a.render(Object(v.jsx)(N,{}),document.getElementById("root"));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,p]);return Object(v.jsxs)("form",{onSubmit:O,children:[Object(v.jsxs)("label",{className:"nickname-label",htmlFor:"username",children:["Nickname:",Object(v.jsx)("input",{id:"username",value:n,className:"user-name-input",placeholder:"please enter your nickname",onChange:function(e){return a(e.target.value)}})]}),Object(v.jsx)("input",{type:"submit",value:"submit",className:"submit-btn"})]})};s.a.render(Object(v.jsx)(S,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.5c3694ea.chunk.js.map